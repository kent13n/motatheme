{"version":3,"file":"scripts.js","mappings":"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","sources":["webpack://motatheme/./assets/js/Overlay.js","webpack://motatheme/./assets/js/Nav.js","webpack://motatheme/./assets/js/Contact.js","webpack://motatheme/./assets/js/PrevNextNav.js","webpack://motatheme/./assets/js/Lightbox.js","webpack://motatheme/./assets/js/main.js"],"sourcesContent":["class Overlay {\r\n    constructor() {\r\n        this.duration = 300;\r\n        this.active = false;\r\n        this.overlay = document.querySelector('.overlay');\r\n        this.timeout = null;\r\n        this.open = this.open.bind(this);\r\n        this.close = this.close.bind(this);\r\n    }\r\n\r\n    toggle() {\r\n        if (!this.active) this.open();\r\n        else this.close();\r\n    }\r\n\r\n    open() {\r\n        if (!this.overlay) this.init();\r\n        if (this.timeout) clearTimeout(this.timeout);\r\n\r\n        this.timeout = setTimeout(() => {\r\n            this.active = true;\r\n            this.overlay.style.setProperty('display', 'block');\r\n            this.overlay.animate({opacity: 1}, {duration: this.duration, fill: 'forwards'});\r\n        }, 50);\r\n\r\n    }\r\n\r\n    close() {\r\n        if (!this.overlay) this.init();\r\n        if (this.timeout) clearTimeout(this.timeout);\r\n\r\n        this.timeout = setTimeout(() => {\r\n            this.active = false;\r\n            this.overlay.animate({opacity: 0}, {duration: this.duration + 100, fill: 'forwards'}).onfinish = () => {\r\n                this.overlay.style.setProperty('display', 'none');\r\n            };\r\n        }, 50);\r\n    }\r\n\r\n    init() {\r\n        this.overlay = document.querySelector('.overlay');\r\n    }\r\n\r\n    static bind() {\r\n        return new Overlay();\r\n    }\r\n}\r\n\r\nconst overlayInstance = Overlay.bind();\r\nexport default overlayInstance;","import overlayInstance from \"./Overlay\";\r\n\r\nexport default class Nav {\r\n    constructor() {\r\n        this.toggle = this.toggle.bind(this);\r\n        this.header = document.querySelector('header');\r\n        document.addEventListener('click', this.toggle);\r\n    }\r\n\r\n    toggle(evt) {\r\n        if (evt.target.closest('.hamburger') && !document.body.classList.contains('menu-initialized')) {\r\n            document.body.classList.add('menu-initialized');\r\n        }\r\n\r\n        if (evt.target.closest('.hamburger')) {\r\n            if (this.header.classList.contains('opened')) {\r\n                this.header.classList.remove('opened');\r\n                overlayInstance.close();\r\n            } else {\r\n                this.header.classList.add('opened');\r\n                overlayInstance.open();\r\n            }\r\n        }\r\n\r\n        if (evt.target.closest('nav') && evt.target.tagName.toLowerCase() === 'a' && this.header.classList.contains('opened')) {\r\n            this.header.classList.remove('opened');\r\n            overlayInstance.close();\r\n        }\r\n    }\r\n\r\n    static bind() {\r\n        return new Nav();\r\n    }\r\n}","import overlayInstance from \"./Overlay\";\r\n\r\nexport default class Contact {\r\n    constructor() {\r\n        this.duration = 200;\r\n        this.modal = document.querySelector('.contact-modal > .modal__content');\r\n        this.contactForm = this.modal.querySelector('form');\r\n        this.refPhotoField = this.contactForm.querySelector('input[name=\"ref-photo\"]');\r\n        this.openElements = document.querySelectorAll('[href=\"#contact\"]');\r\n        this.close = this.close.bind(this);\r\n        this.click = this.click.bind(this);\r\n        this.toggle = this.toggle.bind(this);\r\n        document.addEventListener('click', this.click);\r\n        document.addEventListener('wpcf7mailsent', this.close);\r\n    }\r\n\r\n    click(evt) {\r\n        let found = false;\r\n        this.openElements.forEach(el => {\r\n            if (el.contains(evt.target)) {\r\n                evt.preventDefault();\r\n                const ref = el.getAttribute('data-ref');\r\n                if (ref && this.refPhotoField) this.refPhotoField.value = ref;\r\n                this.toggle();\r\n                found = true;\r\n            }\r\n        });\r\n\r\n        if (!found && this.active && !this.modal.contains(evt.target)) {\r\n            evt.preventDefault();\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.active = false;\r\n        this.contactForm.reset();\r\n    }\r\n\r\n    close() {\r\n        this.clear();\r\n        this.modal.parentElement.animate({opacity: 0}, {duration: this.duration, fill: 'forwards'}).onfinish = () => {\r\n            this.modal.parentElement.style.setProperty('display', 'none');\r\n        };\r\n        overlayInstance.close();\r\n    }\r\n\r\n    open() {\r\n        this.active = true;\r\n        this.modal.parentElement.style.setProperty('display', 'block');\r\n        this.modal.parentElement.animate({opacity: 1}, {duration: this.duration, fill: 'forwards'});\r\n        overlayInstance.open();\r\n    }\r\n\r\n    toggle() {\r\n        if (this.active) this.close();\r\n        else this.open();\r\n    }\r\n\r\n    static bind() {\r\n        return new Contact();\r\n    }\r\n}","export default class PrevNextNav {\r\n    constructor() {\r\n        this.activeEl = null;\r\n        this.toggle = this.toggle.bind(this);\r\n        this.enter = this.enter.bind(this);\r\n        this.leave = this.leave.bind(this);\r\n        this.wrapper = document.querySelector('.previous-next > .wrapper');\r\n        this.prevLink = document.querySelector('.links > .prev-link');\r\n        this.nextLink = document.querySelector('.links > .next-link');\r\n        this.prevImg = document.querySelector('.thumbnails > .prev-thumbnail > img');\r\n        this.nextImg = document.querySelector('.thumbnails > .next-thumbnail > img');\r\n\r\n        if (this.nextLink) {\r\n            this.nextLink.addEventListener('mouseenter', this.enter)\r\n        }\r\n\r\n        if (this.prevLink) {\r\n            this.prevLink.addEventListener('mouseenter', this.enter);\r\n        }\r\n\r\n        if (this.wrapper) {\r\n            this.wrapper.addEventListener('mouseleave', this.leave);\r\n        }\r\n    }\r\n\r\n    enter(evt) {\r\n        if (this.prevLink && this.prevLink.contains(evt.target)) {\r\n            this.toggle(this.prevImg);\r\n        }\r\n\r\n        if (this.nextLink && this.nextLink.contains(evt.target)) {\r\n            this.toggle(this.nextImg);\r\n        }\r\n    }\r\n\r\n    leave(evt) {\r\n        this.toggle(this.activeEl, true);\r\n    }\r\n\r\n    toggle(el, hide = false) {\r\n        if (hide) {\r\n            if (this.activeEl) {\r\n                this.activeEl.animate({opacity: 0}, {duration: 300, fill: 'forwards'}).onfinish = () => {\r\n                    if (this.activeEl) {\r\n                        this.activeEl.style.setProperty('display', 'none');\r\n                        this.activeEl = null;\r\n                    }\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (this.activeEl) {\r\n            this.activeEl.style.setProperty('opacity', 0);\r\n            this.activeEl.style.setProperty('display', 'none');\r\n        }\r\n\r\n        el.style.setProperty('opacity', 0);\r\n        el.style.setProperty('display', 'block');\r\n        el.animate({opacity: 1}, {duration: 300, fill: 'forwards'});\r\n\r\n        this.activeEl = el;\r\n    }\r\n\r\n    static bind() {\r\n        return new PrevNextNav();\r\n    }\r\n}","import overlayInstance from \"./Overlay\";\r\n\r\nexport default class Lightbox {\r\n    constructor() {\r\n        this.index = null;\r\n        this.duration = 300;\r\n\r\n        this.show = this.show.bind(this);\r\n        this.getData = this.getData.bind(this);\r\n        this.open = this.open.bind(this);\r\n        this.close = this.close.bind(this);\r\n        this.click = this.click.bind(this);\r\n        this.previous = this.previous.bind(this);\r\n        this.next = this.next.bind(this);\r\n\r\n        this.lightbox = document.querySelector('.lightbox');\r\n        this.closeEl = this.lightbox.querySelector('img.close');\r\n        this.previousEl = this.lightbox.querySelector('.previous-image');\r\n        this.nextEl = this.lightbox.querySelector('.next-image');\r\n        this.elements = document.querySelectorAll('.icon-fullscreen');\r\n\r\n        document.addEventListener('click', this.click);\r\n        this.preload();\r\n    }\r\n\r\n    preload() {\r\n        this.elements.forEach(el => (new Image()).src = (this.getTarget(el)).querySelector('img[data-lightbox-image]').getAttribute('data-lightbox-image'));\r\n    }\r\n\r\n    previous() {\r\n        let newIndex = this.index - 1;\r\n        if (newIndex < 0) newIndex = 0;\r\n        if (newIndex !== this.index) {\r\n            this.show(newIndex);\r\n        }\r\n    }\r\n\r\n    next() {\r\n        let newIndex = this.index + 1;\r\n        if (newIndex >= this.elements.length) newIndex = this.elements.length - 1;\r\n        if (newIndex !== this.index) {\r\n            this.show(newIndex);\r\n        }\r\n    }\r\n\r\n    click(evt) {\r\n        if (this.closeEl.contains(evt.target)) {\r\n            evt.preventDefault();\r\n            this.close();\r\n            return;\r\n        }\r\n\r\n        if (this.previousEl.contains(evt.target)) {\r\n            evt.preventDefault();\r\n            this.previous();\r\n            return;\r\n        }\r\n\r\n        if (this.nextEl.contains(evt.target)) {\r\n            evt.preventDefault();\r\n            this.next();\r\n            return;\r\n        }\r\n\r\n        this.elements.forEach((el, index) => {\r\n            if (el.contains(evt.target)) {\r\n                evt.preventDefault();\r\n                this.index = index;\r\n                this.open();\r\n            }\r\n        });\r\n    }\r\n\r\n    show(index = false) {\r\n        if (index !== false) this.index = index;\r\n        const data = this.getData();\r\n        if (this.lightbox.querySelector('.lightbox-image > img')) {\r\n            this.lightbox.querySelector('.lightbox-image > img').src = data.image;\r\n        } else {\r\n            this.lightbox.querySelector('.lightbox-image').innerHTML = `<img src=\"${data.image}\" alt=\"lightbox image\">`;\r\n        }\r\n        this.lightbox.querySelector('.ref-photo').innerText = data.ref;\r\n        this.lightbox.querySelector('.category-photo').innerText = data.category;\r\n    }\r\n\r\n    open() {\r\n        overlayInstance.open();\r\n\r\n        const data = this.getData();\r\n        this.show();\r\n\r\n        this.lightbox.style.setProperty('display', 'flex');\r\n        this.lightbox.animate({opacity: 1}, {duration: this.duration, fill: 'forwards'});\r\n    }\r\n\r\n    close() {\r\n        overlayInstance.close();\r\n        this.lightbox.animate({opacity: 0}, {duration: this.duration, fill: 'forwards'}).onfinish = () => {\r\n            this.lightbox.style.setProperty('display', 'none');\r\n        };\r\n    }\r\n\r\n    getData() {\r\n        let data = null;\r\n\r\n        if (this.index !== null && this.elements[this.index]) {\r\n            const target = this.elements[this.index];\r\n\r\n            let element = this.getTarget(target);\r\n            if (element) {\r\n                data = {};\r\n                data.ref = element.querySelector('.ref-photo').innerText || '';\r\n                data.category = element.querySelector('.categories-photo').innerText || '';\r\n                data.image = element.querySelector('img[data-lightbox-image]').getAttribute('data-lightbox-image') || '';\r\n            }\r\n        }\r\n\r\n        return data;\r\n    }\r\n\r\n    getTarget(target) {\r\n        let element = target.closest('.post-photo');\r\n        if (!element) {\r\n            element = target.closest('.thumbnail');\r\n            if (element) element = element.closest('article.photo');\r\n        }\r\n        return element;\r\n    }\r\n\r\n    static bind() {\r\n        return new Lightbox();\r\n    }\r\n}","import Nav from \"./Nav\";\r\nimport Contact from \"./Contact\";\r\nimport PrevNextNav from \"./PrevNextNav\";\r\nimport Lightbox from \"./Lightbox\";\r\n\r\nwindow.addEventListener('DOMContentLoaded', function () {\r\n    Nav.bind();\r\n    Contact.bind();\r\n    PrevNextNav.bind();\r\n    Lightbox.bind();\r\n});"],"names":["Overlay","constructor","this","duration","active","overlay","document","querySelector","timeout","open","bind","close","toggle","init","clearTimeout","setTimeout","style","setProperty","animate","opacity","fill","onfinish","Nav","header","addEventListener","evt","target","closest","body","classList","contains","add","remove","overlayInstance","tagName","toLowerCase","Contact","modal","contactForm","refPhotoField","openElements","querySelectorAll","click","found","forEach","el","preventDefault","ref","getAttribute","value","clear","reset","parentElement","PrevNextNav","activeEl","enter","leave","wrapper","prevLink","nextLink","prevImg","nextImg","hide","Lightbox","index","show","getData","previous","next","lightbox","closeEl","previousEl","nextEl","elements","preload","Image","src","getTarget","newIndex","length","data","image","innerHTML","innerText","category","element","window"],"sourceRoot":""}